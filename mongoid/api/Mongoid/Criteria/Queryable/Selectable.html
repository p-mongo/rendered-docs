<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Mongoid::Criteria::Queryable::Selectable
  
    &mdash; mongoid-7.1.1
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Mongoid::Criteria::Queryable::Selectable";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Mongoid.html" title="Mongoid (module)">Mongoid</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Queryable.html" title="Mongoid::Criteria::Queryable (module)">Queryable</a></span></span>
     &raquo; 
    <span class="title">Selectable</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Mongoid::Criteria::Queryable::Selectable
  
  
  
</h1>
<div class="box_info">
  

  
  
  <dl>
      <dt>Extended by:</dt>
      <dd><span class='object_link'><a href="Macroable.html" title="Mongoid::Criteria::Queryable::Macroable (module)">Macroable</a></span></dd>
  </dl>
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/mongoid/criteria/queryable/selectable.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>An queryable selectable is selectable, in that it has the ability to select document from the database. The selectable module brings all functionality to the selectable that has to do with building MongoDB selectors.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="LINE_STRING-constant" class="">LINE_STRING =
          <div class="docstring">
  <div class="discussion">
    
<p>Constant for a LineString $geometry.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>2.0.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LineString</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="POINT-constant" class="">POINT =
          <div class="docstring">
  <div class="discussion">
    
<p>Constant for a Point $geometry.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>2.0.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Point</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
        <dt id="POLYGON-constant" class="">POLYGON =
          <div class="docstring">
  <div class="discussion">
    
<p>Constant for a Polygon $geometry.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>2.0.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Polygon</span><span class='tstring_end'>&quot;</span></span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#negating-instance_method" title="#negating (instance method)">#<strong>negating</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute negating.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#negating+If+the+next+expression+is+negated%2E-instance_method" title="#negating If the next expression is negated. (instance method)">#<strong>negating If the next expression is negated.</strong>(Ifthe)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#selector-instance_method" title="#selector (instance method)">#<strong>selector</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute selector.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#selector+The+query+selector%2E-instance_method" title="#selector The query selector. (instance method)">#<strong>selector The query selector.</strong>(Thequeryselector.)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#forwardables-class_method" title="forwardables (class method)">.<strong>forwardables</strong>  &#x21d2; Array&lt;Symbol&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Get the methods on the selectable that can be forwarded to from a model.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#all-instance_method" title="#all (instance method)">#<strong>all</strong>(*criteria)  &#x21d2; Selectable </a>
    

    
      (also: #all_in)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the $all criterion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#and-instance_method" title="#and (instance method)">#<strong>and</strong>(*criteria)  &#x21d2; Selectable </a>
    

    
      (also: #all_of)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the $and criterion.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#any_of-instance_method" title="#any_of (instance method)">#<strong>any_of</strong>(*criteria)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a disjunction of the arguments as an additional constraint to the criteria already existing in the receiver.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#between-instance_method" title="#between (instance method)">#<strong>between</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the range selection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#elem_match-instance_method" title="#elem_match (instance method)">#<strong>elem_match</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Select with an $elemMatch.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#exists-instance_method" title="#exists (instance method)">#<strong>exists</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the $exists selection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#geo_spacial-instance_method" title="#geo_spacial (instance method)">#<strong>geo_spacial</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a $geoIntersects or $geoWithin selection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gt-instance_method" title="#gt (instance method)">#<strong>gt</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the $gt criterion to the selector.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#gte-instance_method" title="#gte (instance method)">#<strong>gte</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the $gte criterion to the selector.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#in-instance_method" title="#in (instance method)">#<strong>in</strong>(condition)  &#x21d2; Selectable </a>
    

    
      (also: #any_in)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds the $in selection to the selectable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lt-instance_method" title="#lt (instance method)">#<strong>lt</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the $lt criterion to the selector.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lte-instance_method" title="#lte (instance method)">#<strong>lte</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add the $lte criterion to the selector.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_distance-instance_method" title="#max_distance (instance method)">#<strong>max_distance</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a $maxDistance selection to the selectable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mod-instance_method" title="#mod (instance method)">#<strong>mod</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds $mod selection to the selectable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#ne-instance_method" title="#ne (instance method)">#<strong>ne</strong>(criterion)  &#x21d2; Selectable </a>
    

    
      (also: #excludes)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds $ne selection to the selectable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#near-instance_method" title="#near (instance method)">#<strong>near</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a $near criterion to a geo selection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#near_sphere-instance_method" title="#near_sphere (instance method)">#<strong>near_sphere</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a $nearSphere criterion to a geo selection.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#negating%3F-instance_method" title="#negating? (instance method)">#<strong>negating?</strong>  &#x21d2; true, false </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Is the current selectable negating the next selection?.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nin-instance_method" title="#nin (instance method)">#<strong>nin</strong>(condition)  &#x21d2; Selectable </a>
    

    
      (also: #not_in)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds the $nin selection to the selectable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#nor-instance_method" title="#nor (instance method)">#<strong>nor</strong>(*criteria)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds $nor selection to the selectable.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#not-instance_method" title="#not (instance method)">#<strong>not</strong>(*criteria)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Negate the arguments, or the next selection if no arguments are given.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#or-instance_method" title="#or (instance method)">#<strong>or</strong>(*criteria)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a disjunction using $or from the existing criteria in the receiver and the provided arguments.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#text_search-instance_method" title="#text_search (instance method)">#<strong>text_search</strong>(terms, opts = nil)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Construct a text search selector.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#where-instance_method" title="#where (instance method)">#<strong>where</strong>(*criteria)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This is the general entry point for most MongoDB queries.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_size-instance_method" title="#with_size (instance method)">#<strong>with_size</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Add a $size selection for array fields.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_type-instance_method" title="#with_type (instance method)">#<strong>with_type</strong>(criterion)  &#x21d2; Selectable </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Adds a $type selection to the selectable.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Macroable.html" title="Mongoid::Criteria::Queryable::Macroable (module)">Macroable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Macroable.html#key-instance_method" title="Mongoid::Criteria::Queryable::Macroable#key (method)">key</a></span></p>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="negating=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="negating-instance_method">
  
    #<strong>negating</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute negating.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_negating'>negating</span>
  <span class='ivar'>@negating</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="negating If the next expression is negated.=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="negating If the next expression is negated.-instance_method">
  
    #<strong>negating If the next expression is negated.</strong>(Ifthe)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 31</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:negating</span><span class='comma'>,</span> <span class='symbol'>:selector</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="selector=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="selector-instance_method">
  
    #<strong>selector</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute selector.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31
32
33</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 31</span>

<span class='kw'>def</span> <span class='id identifier rubyid_selector'>selector</span>
  <span class='ivar'>@selector</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="selector The query selector.=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="selector The query selector.-instance_method">
  
    #<strong>selector The query selector.</strong>(Thequeryselector.)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 31</span>

<span class='id identifier rubyid_attr_accessor'>attr_accessor</span> <span class='symbol'>:negating</span><span class='comma'>,</span> <span class='symbol'>:selector</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="forwardables-class_method">
  
    .<strong>forwardables</strong>  &#x21d2; <tt>Array&lt;Symbol&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Get the methods on the selectable that can be forwarded to from a model.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Get the forwardable methods.</p>
</div></p>
      
      <pre class="example code"><code><span class='const'><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></span><span class='period'>.</span><span class='id identifier rubyid_forwardables'>forwardables</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Symbol&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The names of the forwardable methods.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


967
968
969
970</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 967</span>

<span class='kw'>def</span> <span class='id identifier rubyid_forwardables'>forwardables</span>
  <span class='id identifier rubyid_public_instance_methods'>public_instance_methods</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span> <span class='op'>-</span>
    <span class='lbracket'>[</span> <span class='symbol'>:negating</span><span class='comma'>,</span> <span class='symbol'>:negating=</span><span class='comma'>,</span> <span class='symbol'>:negating?</span><span class='comma'>,</span> <span class='symbol'>:selector</span><span class='comma'>,</span> <span class='symbol'>:selector=</span> <span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="all-instance_method">
  
    #<strong>all</strong>(*criteria)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='all_in-instance_method'>all_in</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the $all criterion.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the criterion.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $all in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The key value pairs for $all matching.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 46</span>

<span class='kw'>def</span> <span class='id identifier rubyid_all'>all</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_clone'>clone</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
      <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_reset_strategies!'>reset_strategies!</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='id identifier rubyid_clone'>clone</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_condition'>condition</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:all</span>
    <span class='kw'>end</span>

    <span class='id identifier rubyid_condition'>condition</span> <span class='op'>=</span> <span class='id identifier rubyid_expand_condition_to_array_values'>expand_condition_to_array_values</span><span class='lparen'>(</span><span class='id identifier rubyid_condition'>condition</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_strategy'>strategy</span>
      <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_strategy'>strategy</span><span class='comma'>,</span> <span class='id identifier rubyid_condition'>condition</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$all</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_condition'>condition</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__query'>_query</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='op'>|</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$all</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span><span class='rbrace'>}</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_negating?'>negating?</span>
          <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$not</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbrace'>}</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid__query'>_query</span><span class='period'>.</span><span class='id identifier rubyid_add_field_expression'>add_field_expression</span><span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_reset_strategies!'>reset_strategies!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="and-instance_method">
  
    #<strong>and</strong>(*criteria)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='all_of-instance_method'>all_of</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the $and criterion.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the criterion.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_and'>and</span><span class='lparen'>(</span><span class='lbrace'>{</span> <span class='label'>field:</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span> <span class='label'>other:</span> <span class='id identifier rubyid_value'>value</span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criteria</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash | <span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Multiple key/value pair matches or Criteria objects that all must match to return results.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 87</span>

<span class='kw'>def</span> <span class='kw'>and</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__mongoid_flatten_arrays'>_mongoid_flatten_arrays</span><span class='lparen'>(</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_new_s'>new_s</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_new_s'>new_s</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_new_s'>new_s</span> <span class='op'>=</span> <span class='id identifier rubyid_new_s'>new_s</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_normalized'>normalized</span> <span class='op'>=</span> <span class='id identifier rubyid__mongoid_expand_keys'>_mongoid_expand_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_new_s'>new_s</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_normalized'>normalized</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
      <span class='id identifier rubyid_k'>k</span> <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span>
        <span class='comment'># There is already a condition on k.
</span>        <span class='comment'># If v is an operator, and all existing conditions are
</span>        <span class='comment'># also operators, and v isn&#39;t present in existing conditions,
</span>        <span class='comment'># we can add to existing conditions.
</span>        <span class='comment'># Otherwise use $and.
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
          <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>==</span> <span class='int'>1</span> <span class='op'>&amp;&amp;</span>
          <span class='lparen'>(</span><span class='id identifier rubyid_new_k'>new_k</span> <span class='op'>=</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
          <span class='lparen'>(</span><span class='id identifier rubyid_existing_kv'>existing_kv</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
          <span class='op'>!</span><span class='id identifier rubyid_existing_kv'>existing_kv</span><span class='period'>.</span><span class='id identifier rubyid_key?'>key?</span><span class='lparen'>(</span><span class='id identifier rubyid_new_k'>new_k</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span>
          <span class='id identifier rubyid_existing_kv'>existing_kv</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_all?'>all?</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_sub_k'>sub_k</span><span class='op'>|</span> <span class='id identifier rubyid_sub_k'>sub_k</span><span class='period'>.</span><span class='id identifier rubyid_start_with?'>start_with?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='rbrace'>}</span>
        <span class='kw'>then</span>
          <span class='id identifier rubyid_merged_v'>merged_v</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_merged_v'>merged_v</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:__multi__</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$and</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_c'>c</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="any_of-instance_method">
  
    #<strong>any_of</strong>(*criteria)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a disjunction of the arguments as an additional constraint to the criteria already existing in the receiver.</p>

<p>Use <code>or</code> to make the receiver one of the disjunction operands.</p>

<p>Each argument can be a Hash, a Criteria object, an array of Hash or Criteria objects, or a nested array. Nested arrays will be flattened and can be of any depth. Passing arrays is deprecated.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $or selection where both fields must have the specified values.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_any_of'>any_of</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='int'>2</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $or selection where either value match is sufficient.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_any_of'>any_of</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Same as previous example but using the deprecated array wrap.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_any_of'>any_of</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Same as previous example, also deprecated.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_any_of'>any_of</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criteria</span>
      
      
        <span class='type'>(<tt>Hash | <span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span> | Array&lt;Hash | <span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span>&gt;</tt>, <tt>...</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Multiple key/value pair matches or Criteria objects, or arrays thereof. Passing arrays is deprecated.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
696
697
698
699
700
701
702
703
704
705
706
707
708
709
710</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 673</span>

<span class='kw'>def</span> <span class='id identifier rubyid_any_of'>any_of</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_criteria'>criteria</span> <span class='op'>=</span> <span class='id identifier rubyid__mongoid_flatten_arrays'>_mongoid_flatten_arrays</span><span class='lparen'>(</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>when</span> <span class='int'>0</span>
    <span class='id identifier rubyid_clone'>clone</span>
  <span class='kw'>when</span> <span class='int'>1</span>
    <span class='comment'># When we have a single criteria, any_of behaves like and.
</span>    <span class='comment'># Note: criteria can be a Query object, which #where method does
</span>    <span class='comment'># not support.
</span>    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_and'>and</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='comment'># When we have multiple criteria, combine them all with $or
</span>    <span class='comment'># and add the result to self.
</span>    <span class='id identifier rubyid_exprs'>exprs</span> <span class='op'>=</span> <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_criterion'>criterion</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid__mongoid_expand_keys'>_mongoid_expand_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='const'>Hash</span><span class='lbracket'>[</span><span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Symbol</span><span class='rparen'>)</span>
            <span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span>
          <span class='kw'>else</span>
            <span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rbracket'>]</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span><span class='rbracket'>]</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='comment'># Should be able to do:
</span>    <span class='comment'>#where(&#39;$or&#39; =&gt; exprs)
</span>    <span class='comment'># But since that is broken do instead:
</span>    <span class='id identifier rubyid_clone'>clone</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$or</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$or</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$or</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='id identifier rubyid_exprs'>exprs</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$or</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_exprs'>exprs</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="between-instance_method">
  
    #<strong>between</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the range selection.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Match on results within a single range.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_between'>between</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>1</span><span class='op'>..</span><span class='int'>2</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Match on results between multiple ranges.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_between'>between</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>1</span><span class='op'>..</span><span class='int'>2</span><span class='comma'>,</span> <span class='label'>other:</span> <span class='int'>5</span><span class='op'>..</span><span class='int'>7</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Multiple key/range pairs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


135
136
137
138
139
140
141
142
143
144
145
146</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 135</span>

<span class='kw'>def</span> <span class='id identifier rubyid_between'>between</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:between</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_selection'>selection</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_selector'>selector</span><span class='comma'>,</span> <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_store'>store</span><span class='lparen'>(</span>
      <span class='id identifier rubyid_field'>field</span><span class='comma'>,</span>
      <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$gte</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_min'>min</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$lte</span><span class='tstring_end'>&quot;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span> <span class='rbrace'>}</span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="elem_match-instance_method">
  
    #<strong>elem_match</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Select with an $elemMatch.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add criterion for a single match.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_elem_match'>elem_match</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add criterion for multiple matches.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_elem_match'>elem_match</span><span class='lparen'>(</span>
  <span class='label'>field:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='label'>other:</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
<span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $elemMatch in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_elem_match'>elem_match</span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/match pairs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 167</span>

<span class='kw'>def</span> <span class='id identifier rubyid_elem_match'>elem_match</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:elem_match</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$elemMatch</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="exists-instance_method">
  
    #<strong>exists</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the $exists selection.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a single selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_exists'>exists</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='kw'>true</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add multiple selections.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_exists'>exists</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='label'>other:</span> <span class='kw'>false</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $exists in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_exists'>exists</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/boolean existence checks.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


192
193
194
195
196
197
198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 192</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exists'>exists</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:exists</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_typed_override'>typed_override</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$exists</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Boolean.html" title="Boolean (class)">Boolean</a></span></span><span class='period'>.</span><span class='id identifier rubyid_evolve'><span class='object_link'><a href="../../Extensions/Decimal128/ClassMethods.html#evolve-instance_method" title="Mongoid::Extensions::Decimal128::ClassMethods#evolve (method)">evolve</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="geo_spacial-instance_method">
  
    #<strong>geo_spacial</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The only valid geometry shapes for a $geoIntersects are: :intersects_line, :intersects_point, and :intersects_polygon.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The only valid options for a $geoWithin query are the geometry shape :within_polygon and the operator :within_box.</p>
</div>
  </div>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>The :within_box operator for the $geoWithin query expects the lower left (south west) coordinate pair as the first argument and the upper right (north east) as the second argument. Important: When latitude and longitude are passed, longitude is expected as the first element of the coordinate pair. Source: <a href="https://docs.mongodb.com/manual/reference/operator/query/box">docs.mongodb.com/manual/reference/operator/query/box</a>/</p>
</div>
  </div>


<p>Add a $geoIntersects or $geoWithin selection. Symbol operators must be used as shown in the examples to expand the criteria.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a geo intersect criterion for a line.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_geo_spacial'>geo_spacial</span><span class='lparen'>(</span><span class='symbol'>:location</span><span class='period'>.</span><span class='id identifier rubyid_intersects_line'>intersects_line</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a geo intersect criterion for a point.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_geo_spacial'>geo_spacial</span><span class='lparen'>(</span><span class='symbol'>:location</span><span class='period'>.</span><span class='id identifier rubyid_intersects_point'>intersects_point</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a geo intersect criterion for a polygon.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_geo_spacial'>geo_spacial</span><span class='lparen'>(</span><span class='symbol'>:location</span><span class='period'>.</span><span class='id identifier rubyid_intersects_polygon'>intersects_polygon</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a geo within criterion for a polygon.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_geo_spacial'>geo_spacial</span><span class='lparen'>(</span><span class='symbol'>:location</span><span class='period'>.</span><span class='id identifier rubyid_within_polygon'>within_polygon</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>10</span> <span class='rbracket'>]</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a geo within criterion for a box.</p>
</div></p>
      
      <pre class="example code"><code>query.geo_spacial(:location.within_box =&gt; [[ 1, 10 ], [ 2, 10 ])</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The criterion.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>2.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


241
242
243
244
245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 241</span>

<span class='kw'>def</span> <span class='id identifier rubyid_geo_spacial'>geo_spacial</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:geo_spacial</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___merge__'>__merge__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gt-instance_method">
  
    #<strong>gt</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the $gt criterion to the selector.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $gt criterion.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_gt'>gt</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='int'>60</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $gt in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_gt'>gt</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/value pairs to check.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


275
276
277
278
279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 275</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gt'>gt</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:gt</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$gt</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="gte-instance_method">
  
    #<strong>gte</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the $gte criterion to the selector.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $gte criterion.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_gte'>gte</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='int'>60</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $gte in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_gte'>gte</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/value pairs to check.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


297
298
299
300
301
302
303</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 297</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gte'>gte</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:gte</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$gte</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="in-instance_method">
  
    #<strong>in</strong>(condition)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='any_in-instance_method'>any_in</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds the $in selection to the selectable.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add $in selection on an array.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add $in selection on a range.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='int'>18</span><span class='op'>..</span><span class='int'>24</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $in in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>condition</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/value criterion pairs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 322</span>

<span class='kw'>def</span> <span class='kw'>in</span><span class='lparen'>(</span><span class='id identifier rubyid_condition'>condition</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:in</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_condition'>condition</span> <span class='op'>=</span> <span class='id identifier rubyid_expand_condition_to_array_values'>expand_condition_to_array_values</span><span class='lparen'>(</span><span class='id identifier rubyid_condition'>condition</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_strategy'>strategy</span>
    <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_strategy'>strategy</span><span class='comma'>,</span> <span class='id identifier rubyid_condition'>condition</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_condition'>condition</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='id identifier rubyid_clone'>clone</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='op'>|</span>
      <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$in</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span><span class='rbrace'>}</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_negating?'>negating?</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$not</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbrace'>}</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_add_field_expression'>add_field_expression</span><span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_reset_strategies!'>reset_strategies!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lt-instance_method">
  
    #<strong>lt</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the $lt criterion to the selector.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $lt criterion.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_lt'>lt</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='int'>60</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $lt in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_lt'>lt</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/value pairs to check.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


357
358
359
360
361
362
363</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 357</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lt'>lt</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:lt</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$lt</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lte-instance_method">
  
    #<strong>lte</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add the $lte criterion to the selector.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $lte criterion.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_lte'>lte</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='int'>60</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $lte in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_lte'>lte</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/value pairs to check.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


379
380
381
382
383
384
385</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 379</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lte'>lte</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:lte</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$lte</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="max_distance-instance_method">
  
    #<strong>max_distance</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Add a $maxDistance selection to the selectable.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $maxDistance selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_max_distance'>max_distance</span><span class='lparen'>(</span><span class='label'>location:</span> <span class='int'>10</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/distance pairs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


398
399
400
401
402
403
404
405</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 398</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_distance'>max_distance</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:max_distance</span>
  <span class='kw'>end</span>

  <span class='comment'># $maxDistance must be given together with $near
</span>  <span class='id identifier rubyid___add__'>__add__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$maxDistance</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mod-instance_method">
  
    #<strong>mod</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds $mod selection to the selectable.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $mod selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_mod'>mod</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='lbracket'>[</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>1</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $mod in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_mod'>mod</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='int'>10</span><span class='comma'>,</span> <span class='int'>1</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/mod selections.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


420
421
422
423
424
425
426</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 420</span>

<span class='kw'>def</span> <span class='id identifier rubyid_mod'>mod</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:mod</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$mod</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="ne-instance_method">
  
    #<strong>ne</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='excludes-instance_method'>excludes</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds $ne selection to the selectable.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Query for a value $ne to something.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_ne'>ne</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>10</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $ne in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_ne'>ne</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>value</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/ne selections.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


442
443
444
445
446
447
448</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 442</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ne'>ne</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:ne</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$ne</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="near-instance_method">
  
    #<strong>near</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a $near criterion to a geo selection.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $near selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_near'>near</span><span class='lparen'>(</span><span class='label'>location:</span> <span class='lbracket'>[</span> <span class='float'>23.1</span><span class='comma'>,</span> <span class='float'>12.1</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $near in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_near'>near</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='float'>23.2</span><span class='comma'>,</span> <span class='float'>12.1</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/location pair.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


465
466
467
468
469
470
471</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 465</span>

<span class='kw'>def</span> <span class='id identifier rubyid_near'>near</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:near</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$near</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="near_sphere-instance_method">
  
    #<strong>near_sphere</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds a $nearSphere criterion to a geo selection.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $nearSphere selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_near_sphere'>near_sphere</span><span class='lparen'>(</span><span class='label'>location:</span> <span class='lbracket'>[</span> <span class='float'>23.1</span><span class='comma'>,</span> <span class='float'>12.1</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $nearSphere in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_near_sphere'>near_sphere</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='float'>10.11</span><span class='comma'>,</span> <span class='float'>3.22</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/location pair.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


487
488
489
490
491
492
493</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 487</span>

<span class='kw'>def</span> <span class='id identifier rubyid_near_sphere'>near_sphere</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:near_sphere</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid___override__'>__override__</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$nearSphere</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="negating?-instance_method">
  
    #<strong>negating?</strong>  &#x21d2; <tt>true</tt>, <tt>false</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Is the current selectable negating the next selection?</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Is the selectable negating?</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_negating?'>negating?</span></code></pre>
    
  </div>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If the selectable is negating.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


557
558
559</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 557</span>

<span class='kw'>def</span> <span class='id identifier rubyid_negating?'>negating?</span>
  <span class='op'>!</span><span class='op'>!</span><span class='id identifier rubyid_negating'>negating</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="nin-instance_method">
  
    #<strong>nin</strong>(condition)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='not_in-instance_method'>not_in</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds the $nin selection to the selectable.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add $nin selection on an array.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_nin'>nin</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add $nin selection on a range.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_nin'>nin</span><span class='lparen'>(</span><span class='label'>age:</span> <span class='int'>18</span><span class='op'>..</span><span class='int'>24</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $nin in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_nin'>nin</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span><span class='comma'>,</span> <span class='int'>3</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>condition</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/value criterion pairs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 512</span>

<span class='kw'>def</span> <span class='id identifier rubyid_nin'>nin</span><span class='lparen'>(</span><span class='id identifier rubyid_condition'>condition</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_condition'>condition</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:nin</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_condition'>condition</span> <span class='op'>=</span> <span class='id identifier rubyid_expand_condition_to_array_values'>expand_condition_to_array_values</span><span class='lparen'>(</span><span class='id identifier rubyid_condition'>condition</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_strategy'>strategy</span>
    <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_strategy'>strategy</span><span class='comma'>,</span> <span class='id identifier rubyid_condition'>condition</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$nin</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_condition'>condition</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='id identifier rubyid_clone'>clone</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span><span class='op'>|</span>
      <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$nin</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_value'>value</span><span class='rbrace'>}</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_negating?'>negating?</span>
        <span class='id identifier rubyid_v'>v</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$not</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbrace'>}</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_add_field_expression'>add_field_expression</span><span class='lparen'>(</span><span class='id identifier rubyid_field'>field</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span>
    <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_reset_strategies!'>reset_strategies!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="nor-instance_method">
  
    #<strong>nor</strong>(*criteria)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Adds $nor selection to the selectable.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $nor selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_nor'>nor</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='int'>2</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criteria</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash | <span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Multiple key/value pair matches or Criteria objects.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


545
546
547</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 545</span>

<span class='kw'>def</span> <span class='id identifier rubyid_nor'>nor</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__mongoid_add_top_level_operation'>_mongoid_add_top_level_operation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$nor</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="not-instance_method">
  
    #<strong>not</strong>(*criteria)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Negate the arguments, or the next selection if no arguments are given.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Negate the next selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_not'>not</span><span class='period'>.</span><span class='id identifier rubyid_in'>in</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='lbracket'>[</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>2</span> <span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $not criterion.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_not'>not</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Bob</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute a $not in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_not'>not</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>Bob</span><span class='regexp_end'>/</span></span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criteria</span>
      
      
        <span class='type'>(<tt>Array&lt;Hash | <span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Multiple key/value pair matches or Criteria objects to negate.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 578</span>

<span class='kw'>def</span> <span class='kw'>not</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_dup'>dup</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_negating'>negating</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='rbrace'>}</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='comma'>,</span> <span class='id identifier rubyid_new_s'>new_s</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_new_s'>new_s</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_new_s'>new_s</span> <span class='op'>=</span> <span class='id identifier rubyid_new_s'>new_s</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid__mongoid_expand_keys'>_mongoid_expand_keys</span><span class='lparen'>(</span><span class='id identifier rubyid_new_s'>new_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='comma'>,</span> <span class='id identifier rubyid_v'>v</span><span class='op'>|</span>
        <span class='id identifier rubyid_k'>k</span> <span class='op'>=</span> <span class='id identifier rubyid_k'>k</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lbracket'>[</span><span class='id identifier rubyid_k'>k</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_k'>k</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='CHAR'>?$</span>
          <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:__multi__</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$nor</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='id identifier rubyid_k'>k</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$and</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Hash</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:__multi__</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$nor</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='id identifier rubyid_k'>k</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$and</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Regexp</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_negated_operator'>negated_operator</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$not</span><span class='tstring_end'>&#39;</span></span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_negated_operator'>negated_operator</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$ne</span><span class='tstring_end'>&#39;</span></span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_c'>c</span> <span class='op'>=</span> <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='symbol'>:__override__</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='id identifier rubyid_k'>k</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_v'>v</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='id identifier rubyid_negated_operator'>negated_operator</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_c'>c</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="or-instance_method">
  
    #<strong>or</strong>(*criteria)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a disjunction using $or from the existing criteria in the receiver and the provided arguments.</p>

<p>This behavior (receiver becoming one of the disjunction operands) matches ActiveRecord&#39;s <code>or</code> behavior.</p>

<p>Use <code>any_of</code> to add a disjunction of the arguments as an additional constraint to the criteria already existing in the receiver.</p>

<p>Each argument can be a Hash, a Criteria object, an array of Hash or Criteria objects, or a nested array. Nested arrays will be flattened and can be of any depth. Passing arrays is deprecated.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $or selection where both fields must have the specified values.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_or'>or</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>1</span><span class='comma'>,</span> <span class='label'>field:</span> <span class='int'>2</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $or selection where either value match is sufficient.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_or'>or</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Same as previous example but using the deprecated array wrap.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_or'>or</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Same as previous example, also deprecated.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_or'>or</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>1</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='lbrace'>{</span><span class='label'>field:</span> <span class='int'>2</span><span class='rbrace'>}</span><span class='rbracket'>]</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criteria</span>
      
      
        <span class='type'>(<tt>Hash | <span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span> | Array&lt;Hash | <span class='object_link'><a href="../../Criteria.html" title="Mongoid::Criteria (class)">Criteria</a></span>&gt;</tt>, <tt>...</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Multiple key/value pair matches or Criteria objects, or arrays thereof. Passing arrays is deprecated.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The new selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


641
642
643</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 641</span>

<span class='kw'>def</span> <span class='kw'>or</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='id identifier rubyid__mongoid_add_top_level_operation'>_mongoid_add_top_level_operation</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$or</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="text_search-instance_method">
  
    #<strong>text_search</strong>(terms, opts = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>Per <a href="https://docs.mongodb.com/manual/reference/operator/query/text">docs.mongodb.com/manual/reference/operator/query/text</a>/ it is not currently possible to supply multiple text search conditions in a query. Mongoid will build such a query but the server will return an error when trying to execute it.</p>
</div>
  </div>


<p>Construct a text search selector.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Construct a text search selector.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_text_search'>text_search</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testing</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Construct a text search selector with options.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_text_search'>text_search</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>testing</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:$language</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>fr</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>terms</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A string of terms that MongoDB parses and uses to query the text index.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>Text search options. See MongoDB documentation for options.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>2.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 790</span>

<span class='kw'>def</span> <span class='id identifier rubyid_text_search'>text_search</span><span class='lparen'>(</span><span class='id identifier rubyid_terms'>terms</span><span class='comma'>,</span> <span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_terms'>terms</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:terms</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_clone'>clone</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='op'>|</span>
    <span class='id identifier rubyid_criterion'>criterion</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$text</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$search</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_terms'>terms</span> <span class='rbrace'>}</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_criterion'>criterion</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$text</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_merge!'>merge!</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_opts'>opts</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$text</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
      <span class='comment'># Per https://docs.mongodb.com/manual/reference/operator/query/text/
</span>      <span class='comment'># multiple $text expressions are not currently supported by
</span>      <span class='comment'># MongoDB server, but build the query correctly instead of
</span>      <span class='comment'># overwriting previous text search condition with the currently
</span>      <span class='comment'># given one.
</span>      <span class='const'><span class='object_link'><a href="../../../Mongoid.html" title="Mongoid (module)">Mongoid</a></span></span><span class='period'>.</span><span class='id identifier rubyid_logger'><span class='object_link'><a href="../../Loggable.html#logger-instance_method" title="Mongoid::Loggable#logger (method)">logger</a></span></span><span class='period'>.</span><span class='id identifier rubyid_warn'>warn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Multiple $text expressions per query are not currently supported by the server</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>$and</span><span class='tstring_end'>&#39;</span></span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='rbracket'>]</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_selector'>selector</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="where-instance_method">
  
    #<strong>where</strong>(*criteria)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This is the general entry point for most MongoDB queries. This either creates a standard field: value selection, and expanded selection with the use of hash methods, or a $where selection if a string is provided.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a standard selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>syd</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Add a javascript selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>this.name == &#39;syd&#39;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The javascript or standard selection.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 827</span>

<span class='kw'>def</span> <span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_criteria'>criteria</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_criteria'>criteria</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='id identifier rubyid_clone'>clone</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
      <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:where</span>
    <span class='kw'>end</span>

    <span class='comment'># We need to save the criterion in an instance variable so
</span>    <span class='comment'># Modifiable methods know how to create a polymorphic object.
</span>    <span class='comment'># Note that this method in principle accepts multiple criteria,
</span>    <span class='comment'># but only the first one will be stored in @criterion. This
</span>    <span class='comment'># works out to be fine because first_or_create etc. methods
</span>    <span class='comment'># only ever specify one criterion to #where.
</span>    <span class='ivar'>@criterion</span> <span class='op'>=</span> <span class='id identifier rubyid_criterion'>criterion</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>String</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_js_query'>js_query</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_expr_query'>expr_query</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span><span class='period'>.</span><span class='id identifier rubyid_reset_strategies!'>reset_strategies!</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_size-instance_method">
  
    #<strong>with_size</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p>This method is named #with_size not to conflict with any existing #size method on enumerables or symbols.</p>
</div>
  </div>


<p>Add a $size selection for array fields.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $size selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_with_size'>with_size</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>5</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $size in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_with_size'>with_size</span> <span class='op'>=&gt;</span> <span class='int'>10</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/size pairs criterion.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


728
729
730
731
732
733
734
735
736</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 728</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_size'>with_size</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:with_size</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_typed_override'>typed_override</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$size</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='op'>::</span><span class='const'>Integer</span><span class='period'>.</span><span class='id identifier rubyid_evolve'>evolve</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="with_type-instance_method">
  
    #<strong>with_type</strong>(criterion)  &#x21d2; <tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'>
<p><a href="http://vurl.me/PGOU">vurl.me/PGOU</a> contains a list of all types.</p>
</div>
  </div>


<p>Adds a $type selection to the selectable.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>Add the $type selection.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_with_type'>with_type</span><span class='lparen'>(</span><span class='label'>field:</span> <span class='int'>15</span><span class='rparen'>)</span></code></pre>
    
      
        <p class="example_title"><div class='inline'>
<p>Execute an $type in a where query.</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_selectable'>selectable</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:field</span><span class='period'>.</span><span class='id identifier rubyid_with_type'>with_type</span> <span class='op'>=&gt;</span> <span class='int'>15</span><span class='rparen'>)</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>criterion</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The field/type pairs.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Mongoid::Criteria::Queryable::Selectable (module)">Selectable</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The cloned selectable.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


756
757
758
759
760
761
762
763
764</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/mongoid/criteria/queryable/selectable.rb', line 756</span>

<span class='kw'>def</span> <span class='id identifier rubyid_with_type'>with_type</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_criterion'>criterion</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../Errors.html" title="Mongoid::Errors (module)">Errors</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Errors/CriteriaArgumentRequired.html" title="Mongoid::Errors::CriteriaArgumentRequired (class)">CriteriaArgumentRequired</a></span></span><span class='comma'>,</span> <span class='symbol'>:with_type</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_typed_override'>typed_override</span><span class='lparen'>(</span><span class='id identifier rubyid_criterion'>criterion</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>$type</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='op'>::</span><span class='const'>Integer</span><span class='period'>.</span><span class='id identifier rubyid_evolve'>evolve</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sun May 24 22:36:34 2020 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.25 (ruby-2.7.1).
</div>

    </div>
  </body>
</html>